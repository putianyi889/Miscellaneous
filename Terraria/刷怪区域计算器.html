<!DOCTYPE html>

<head>
<script>
	function myFunction()
	{
		sWidth=1920;
		sHeight=1080;
		spawnRangeX = parseInt(sWidth / 16 * 0.7);
		spawnRangeY = parseInt(sHeight / 16 * 0.7);
		safeRangeX = parseInt(sWidth / 16 * 0.52);
		safeRangeY = parseInt(sHeight / 16 * 0.52);
		scope=document.getElementById("scope").checked;
		SniperRifle=document.getElementById("SniperRifle").checked;
		Binoculars=document.getElementById("Binoculars").checked;
		if(scope||SniperRifle||Binoculars){
			if(SniperRifle&&scope) num5=1.25;
			else if(SniperRifle||Binoculars) num5=1.5;
			else if(scope) num5=2.0;
			spawnRangeX += parseInt(sWidth / 16 * 0.5 / num5);
			spawnRangeY += parseInt(sHeight / 16 * 0.5 / num5);
			safeRangeX += parseInt(sWidth / 16 * 0.5 / num5);
			safeRangeY += parseInt(sHeight / 16 * 0.5 / num5);
		}
		document.getElementById("spawnRangeX").innerHTML=spawnRangeX;
		document.getElementById("spawnRangeY").innerHTML=spawnRangeY;
		document.getElementById("safeRangeX").innerHTML=safeRangeX;
		document.getElementById("safeRangeY").innerHTML=safeRangeY;
		document.getElementById("spawnX").innerHTML=2*spawnRangeX+1;
		document.getElementById("spawnY").innerHTML=2*spawnRangeY+1;
		document.getElementById("safeX").innerHTML=2*safeRangeX+1;
		document.getElementById("safeY").innerHTML=2*safeRangeY+1;
		safeX=sWidth+2*safeRangeX;
		safeY=sHeight+2*safeRangeY;
		document.getElementById("safeXtile").innerHTML=parseInt(safeX/16);
		document.getElementById("safeYtile").innerHTML=parseInt(safeY/16);
		document.getElementById("safeXpixel").innerHTML=safeX%16;
		document.getElementById("safeYpixel").innerHTML=safeY%16;
	}
	
	function scopeClick(){
		document.getElementById("Binoculars").checked=false;
		myFunction();
	}
	
	function SniperRifleClick(){
		document.getElementById("Binoculars").checked=false;
		myFunction();
	}
	
	function BinocularsClick(){
		document.getElementById("scope").checked=false;
		document.getElementById("SniperRifle").checked=false;
		myFunction();
	}
</script>
</head>

<body>
	<h2>刷怪区域计算器</h2>
	<p>spawnRangeX：<span id="spawnRangeX">84</span>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspspawnRangeY：<span id="spawnRangeY">47</span></p>
	<p>safeRangeX：<span id="safeRangeX">62</span>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspsafeRangeY：<span id="safeRangeY">35</span></p>
	<p>刷怪区域宽度：<span id="spawnX">169</span>格，刷怪区域高度：<span id="spawnY">95</span>格。刷怪区域以角色碰撞箱左上角所在格为中心。</p>
	<p>安全区域宽度：<span id="safeX">125</span>格，安全区域高度：<span id="safeY">71</span>格。安全区域以角色碰撞箱左上角所在格为中心。</p>
	<p>视野区域宽度：<span id="safeXtile">127</span>格<span id="safeXpixel">12</span>像素，视野区域高度：<span id="safeYtile">71</span>格<span id="safeYpixel">14</span>像素。视野区域以角色碰撞箱中心像素为中心。</p>
	
	<p><input id="scope" type="checkbox" onclick="scopeClick()"/>装备了步枪瞄准镜/狙击镜/Recon Scope，并且正在手持可以发射子弹、玉米糖、尖桩、凝胶的武器</p>
	<p><input id="SniperRifle" type="checkbox" onclick="SniperRifleClick()"/>正在手持狙击步枪</p>
	<p><input id="Binoculars" type="checkbox" onclick="BinocularsClick()"/>正在手持望远镜</p>
	
	<h4>说明</h4>
	对于刷怪区域、安全区域和视野区域的意义，请参考<a href="https://github.com/putianyi889/TerrariaWiringTutorial">《电路文档》</a>附录之《刷怪机制》。
	
</body>
